<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Mtaiirus Pw App Store</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #071226;
  --accent: #10b981;
  --banner: #f59e0b;
  --glass: rgba(255,255,255,0.03);
  --card-bg: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));
  --text-primary: #e6eef6;
  --text-secondary: #9ca3af;
}
* { margin:0; padding:0; box-sizing:border-box; font-family:'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif; }
body { background: linear-gradient(180deg, #041024 0%, #071226 100%); color: var(--text-primary); overflow-x:hidden; min-height:100vh; }

/* Welcome Page */
#welcomePage { height:100vh; display:flex; align-items:center; justify-content:center; padding:24px; }
.wrap { width:100%; max-width:760px; text-align:center; }
.banner { background: var(--banner); color:#0b1220; padding:10px 14px; border-radius:10px; display:inline-flex; gap:10px; align-items:center; margin:0 auto 22px; box-shadow:0 6px 20px rgba(5,10,20,0.45); font-weight:600; }
.banner-dot { width:10px; height:10px; background:#fff; border-radius:50%; display:inline-block; }
.welcome-card { background:var(--card-bg); border-radius:14px; border:1px solid var(--glass); padding:30px; box-shadow:0 20px 50px rgba(3,6,12,0.6); max-width:500px; margin:0 auto; }
.welcome-logo { width:60px; height:60px; border-radius:14px; background:linear-gradient(180deg,#0ea5a4,#10b981); display:flex; align-items:center; justify-content:center; font-size:24px; color:#071226; font-weight:700; margin:0 auto 12px; }
.welcome-card h1 { margin:0; font-size:22px; }
.welcome-card p { color:var(--text-secondary); margin:6px 0 16px; }
.link-btn { color:var(--accent); text-decoration:none; border:1px solid var(--accent); padding:12px 22px; border-radius:999px; display:inline-block; font-weight:600; transition: all 0.2s; cursor:pointer; }
.link-btn:hover { background:var(--accent); color:#071226; }

/* App Store Header */
header { background: linear-gradient(90deg, #0f3460, #1e3a8a); color:var(--text-primary); padding:15px 20px; position:sticky; top:0; z-index:100; box-shadow:0 2px 10px rgba(3,6,12,0.6); border-bottom:1px solid var(--glass); }
.header-container { display:flex; align-items:center; justify-content:space-between; max-width:1200px; margin:0 auto; gap:10px; flex-wrap:wrap; }
.logo { display:flex; align-items:center; gap:10px; }
.logo i { font-size:28px; color:var(--accent); }
.logo h1 { font-size:22px; font-weight:600; }

/* Search + Contact */
.search-contact { display:flex; align-items:center; gap:8px; flex:1; max-width:400px; }
.search-contact input { flex:1; padding:8px 12px; font-size:14px; border-radius:20px; border:1px solid rgba(255,255,255,0.1); outline:none; background: rgba(255,255,255,0.07); color: var(--text-primary); }
.search-contact a.contact-btn { padding:8px 12px; font-size:14px; border-radius:20px; background:var(--accent); color:#071226; text-decoration:none; text-align:center; }

/* App Grid */
.container { max-width:1200px; margin:0 auto; padding:20px; }
.section-title { margin:25px 0 15px; font-size:20px; font-weight:600; color:var(--text-primary); }
.app-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:25px; margin-bottom:3rem; }
.app-card { background:var(--card-bg); border-radius:16px; overflow:hidden; box-shadow:0 4px 20px rgba(0,0,0,0.15); transition: transform 0.3s, box-shadow 0.3s; cursor:pointer; border:1px solid var(--glass); display:flex; flex-direction:column; height:100%; }
.app-card:hover { transform:translateY(-8px); box-shadow:0 15px 30px rgba(3,6,12,0.4); border-color: rgba(16,185,129,0.4); }
.app-image { width:100%; height:160px; object-fit:cover; border-bottom:1px solid rgba(255,255,255,0.05); }
.app-info { padding:18px; flex-grow:1; display:flex; flex-direction:column; }
.app-name { font-weight:700; margin-bottom:6px; color:var(--text-primary); font-size:1.1rem; line-height:1.3; }
.app-developer { font-size:0.85rem; color:var(--text-secondary); margin-bottom:10px; }
.app-description { font-size:0.9rem; color:var(--text-secondary); margin-bottom:15px; line-height:1.4; flex-grow:1; display:-webkit-box; -webkit-line-clamp:3; -webkit-box-orient:vertical; overflow:hidden; }
.app-meta { display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; }
.app-rating { display:flex; align-items:center; }
.stars { color:#fbbf24; margin-right:8px; }
.rating-value { font-size:0.85rem; color:var(--text-secondary); }
.install-btn { display:inline-block; background: linear-gradient(90deg, #0ea5a4, #10b981); color:#071226; padding:10px 16px; border-radius:10px; font-size:0.9rem; text-align:center; text-decoration:none; transition:all 0.3s; font-weight:600; border:none; cursor:pointer; width:100%; }
.install-btn:hover { opacity:0.9; transform:translateY(-2px); box-shadow:0 4px 12px rgba(16,185,129,0.3); }
.no-results, .loading { text-align:center; padding:40px; color:var(--text-secondary); grid-column:1/-1; }

/* Responsive */
@media (max-width:768px){.app-grid{grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;} .header-container{flex-direction:column;gap:10px;} .search-contact{max-width:100%;} }
@media (max-width:480px){.app-grid{grid-template-columns:1fr;}}
</style>
</head>
<body>
<!-- Welcome Page -->
<div id="welcomePage">
  <div class="wrap">
    <div class="banner"><span class="banner-dot"></span>Welcome to Mtaiirus Nt App Store</div>
    <div class="welcome-card">
      <div class="welcome-logo">üõç</div>
      <h1>Mtaiirus Nt App Store</h1>
      <p>Access your apps and downloads once your key is active.</p>
      <a id="openContentBtn" class="link-btn">Open Content</a>
    </div>
  </div>
</div>

<!-- App Store -->
<div id="appStore" style="display:none;">
  <header>
    <div class="header-container">
      <div class="logo"><i class="fab fa-google-play"></i><h1>Mtaiirus Nt</h1></div>
      <div class="search-contact">
        <input type="text" id="searchInput" placeholder="Search apps..." />
        <a href="https://t.me/SHP910" target="_blank" class="contact-btn">Contact</a>
      </div>
    </div>
  </header>

  <div class="container">
    <h2 class="section-title">Featured Apps</h2>
    <div class="app-grid" id="appGrid"><div class="loading">Loading apps...</div></div>
  </div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyCI8DRpAYtKXQ4Kh-_IyuxRxyqNMqdiTdI",
  authDomain: "goat-cheesecake.firebaseapp.com",
  databaseURL: "https://goat-cheesecake-default-rtdb.firebaseio.com",
  projectId: "goat-cheesecake",
  storageBucket: "goat-cheesecake.firebasestorage.app",
  messagingSenderId: "399248308439",
  appId: "1:399248308439:web:9c083bd0cf0a77bcee1892"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
const appsRef = ref(db, "apps");

function renderApps(apps, container, filter=""){
  container.innerHTML="";
  const filtered = apps.filter(a=>a.name.toLowerCase().includes(filter.toLowerCase())||a.developer.toLowerCase().includes(filter.toLowerCase())||(a.description&&a.description.toLowerCase().includes(filter.toLowerCase())));
  if(filtered.length===0){ container.innerHTML=`<div class="no-results"><i class="fas fa-search" style="font-size:2rem;margin-bottom:10px;"></i><h3>No apps found</h3><p>Try adjusting your search terms</p></div>`; return; }
  filtered.forEach(app=>{
    const card=document.createElement("div"); card.className="app-card";
    card.innerHTML=`<img src="${app.imageSrc}" alt="${app.name}" class="app-image" onerror="this.src='https://via.placeholder.com/300x150/1e3a8a/ffffff?text=App+Image'">
    <div class="app-info">
      <h3 class="app-name">${app.name}</h3>
      <p class="app-developer">${app.developer}</p>
      <p class="app-description">${app.description||'No description available'}</p>
      <div class="app-meta">
        <div class="app-rating"><div class="stars">${getStars(app.rating||0)}</div><span class="rating-value">${app.rating||'N/A'}</span></div>
      </div>
      <a class="install-btn" href="${app.downloadLink}" target="_blank"><i class="fas fa-download"></i> Install</a>
    </div>`;
    container.appendChild(card);
  });
}

function getStars(r){if(!r)return'<i class="far fa-star"></i>'.repeat(5); let stars=""; const full=Math.floor(r),half=r%1>=0.5; for(let i=0;i<full;i++)stars+='<i class="fas fa-star"></i>'; if(half)stars+='<i class="fas fa-star-half-alt"></i>'; for(let i=full+(half?1:0);i<5;i++)stars+='<i class="far fa-star"></i>'; return stars; }

document.addEventListener("DOMContentLoaded",()=>{
  const openContentBtn=document.getElementById("openContentBtn");
  const welcomePage=document.getElementById("welcomePage");
  const appStore=document.getElementById("appStore");
  const appGrid=document.getElementById("appGrid");
  const searchInput=document.getElementById("searchInput");

  let allApps=[];

  openContentBtn.addEventListener("click",()=>{welcomePage.style.display="none"; appStore.style.display="block";});
  searchInput.addEventListener("input",e=>renderApps(allApps,appGrid,e.target.value));

  onValue(appsRef,(snapshot)=>{const data=snapshot.val(); allApps=[]; for(let id in data){allApps.push({id,...data[id]});} renderApps(allApps,appGrid); });
});
</script>
</body>
</html>
